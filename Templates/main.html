{% extends 'base.html' %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='Styles/main.css')}}"/>
{% endblock %}

{% block title %}
    <div style="display: flex; align-items: center;">
        <h5>Welcome, {{name}}!</h5>
    </div>
{% endblock %}

{% block body %}

    <div class="add-pics">
        
        <h3>Add Pictures</h3>

        <form action='/user/add-image' method="POST" enctype="multipart/form-data">

                <textarea type="textarea" style="resize: none; margin: 10px 0px 10px 0px; font-size: 15px;" name="image_description" rows="4" cols="50" placeholder="Enter a Description of Image"></textarea>
                <select name="image_category" required>
                    <option value="Other" selected disabled>Select a Category</option>
                    <option value="Personal">Personal</option>
                    <option value="Group">Group</option>
                    <option value="Food">Food</option>
                    <option value="Landscape">Landscape</option>
                    <option value="Fun">Fun</option>
                    <option value="Other">Other</option>
                </select>
                <input type="file" name="user_image" accept=".png, .jpg, .jpeg" style="font-size: 15px; margin: 10px 0px 10px 0px;" required/>
                <button type="submit" id=add-image-button>Add</button>
        </form>

    </div>

    <div class="main" style="width: 100%; text-align: center;">

        <div class="today-images" style="width: 100%; margin-top: 50px;">

            <div class="images">
                <div class="subtitle">
                    <h1>Pictures Added Today</h1>
                    <div class="filter" style="margin-top: 8px;">
                        <h5 style="font-size: 17px;">Filter by Category: <a href="/user/{{month}}/filter/Personal">Personal,</a> <a href="/user/{{month}}/filter/Group">Group,</a> <a href="/user/{{month}}/filter/Food">Food,</a> <a href="/user/{{month}}/filter/Landscape">Landscape,</a> <a href="/user/{{month}}/filter/Fun">Fun,</a> <a href="/user/{{month}}/filter/Other">Other,</a> <a href="/user/{{month}}/filter/All">Show All</a></h5>
                    </div>
                </div>

                {% if images %}
                    <div class="img" style="text-align: center; margin: 50px;">
                        {% for image in images %}
                            <a href=""><img src="{{image}}"style="margin: 2px;" width="330px" height="380px"/></a>
                        {% endfor %}
                    </div>
                {% else %}
                    <div class="empty" style="margin-top: 40px; display: flex; justify-content: center;">
                        <hr style="border: 0.5px solid black; width: 10%; opacity: 0.8;">
                    </div>
                {% endif %}


            </div>

        </div>

        <div class="year-images" style="width: 100%; margin-top: 100px;">
            
            <div class="subtitle">
                <h1>My Year in Photos</h1>
            </div>

            <div class="month-block" style="display:flex; justify-content: center;">

                {% for block in blocks %}

                    <div class="block" style="margin: 30px 10px 40px 10px;">
                        <h4 style="color: rgb(70, 70, 70);;">{{block.month[0]}}</h4>
                        <a href="/user/{{block.month[0]}}" style="margin-top: 50px; text-decoration: none;"><div class="month" style="width: 50px; height: 50px; margin: 5px;border-radius: 2px; background-color: {{block.color}};"></div></a>
                    </div>
                {% endfor %}

            </div>

        </div>

    </div>

{% endblock %}